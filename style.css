/* style.css
   Change: When the book is open, hide the visible framed left/right page elements
   (borders, shadows, backgrounds) and the central spine so the open-background
   (the "back layer") is the only visible page surface. The DOM stays in place
   so animations and accessibility still work, but visual chrome is removed.
*/

/* --- existing variables and base rules above (kept as before) --- */
/* (This file is intended to replace or be merged into your current style.css.
   The new rules below target the open state visuals.) */

/* Remove the framed page chrome when book is open so only the open background shows */
.sketchbook.open .left-page,
.sketchbook.open .pages,
.sketchbook.open .pages .page,
.sketchbook.open .cover {
  /* visually remove backgrounds/borders/shadows */
  background-image: none !important;
  background-color: transparent !important;
  border: none !important;
  box-shadow: none !important;

  /* make the panels invisible but keep them in DOM for flipping logic */
  opacity: 0 !important;
  pointer-events: none !important;
}

/* Ensure page content doesn't leave any white/colored blocks */
.sketchbook.open .page-content {
  background: transparent !important;
  color: inherit;
}

/* Hide the spine/gutter in open state so there's no visible dividing line */
.sketchbook.open::after,
.sketchbook.open::before { /* if you used ::before for spine earlier, hide both */
  display: none !important;
}

/* Make sure the open background pseudo-element remains visible above the page backgrounds */
.sketchbook.open::before {
  /* keep existing open-background rules (center/cover) */
  z-index: 6; /* sits below controls and cover overlay */
}

/* Keep controls and top menu interactive and visible above the open background */
.sketchbook.open #pageMenu,
.sketchbook.open .controls,
.sketchbook.open .cover-art {
  opacity: 1 !important;
  pointer-events: auto !important;
  z-index: 1000 !important;
}

/* Small-screen exception: if you have stacking behavior on narrow viewports,
   don't hide panels completely so content remains readable â€” instead reduce
   chrome but keep content visible. */
@media (max-width: 560px) {
  .sketchbook.open .left-page,
  .sketchbook.open .pages,
  .sketchbook.open .pages .page,
  .sketchbook.open .cover {
    opacity: 1 !important;
    pointer-events: auto !important;
    /* keep minimal borders for readability on narrow screens */
    border: 1px solid rgba(0,0,0,0.06) !important;
    box-shadow: 0 8px 18px rgba(17,17,17,0.08) !important;
    background-color: rgba(251,247,239,0.95) !important;
  }
}
